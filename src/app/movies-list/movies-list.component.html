
<!-- <app-switcher [items]="swichItems"> -->
    <!-- <ng-template #template1 let-item let-id="index">
        <a href="#">{{item.text}}</a>
    </ng-template> -->
<!-- </app-switcher> -->

<ng-template #lists_component>
    <mat-button-toggle-group class="lists lists-box-group" [(value)]="selectedList" (change)="onListChange($event)">
        <mat-button-toggle *ngFor="let item of lists" [value]="item">{{item.text}}</mat-button-toggle>
    </mat-button-toggle-group>
</ng-template>

<div class="container">
    <h2 [style.font-size.px]="32">Фильмы</h2>
</div>

<section class="control-section">
    <ng-template [ngIf]="!isMobile">
        <div class="container control-panel">
            <div class="lists-box panel-item">
                <ng-template [ngTemplateOutlet]='lists_component'></ng-template>
            </div>
            <div class="panel-item genres-list">
                <mat-form-field >
                    <mat-select [style.width.px]='155' [(value)]="selectedGenre" [style.text-align]="'center'" (selectionChange)="onGenreChanged($event)">
                        <mat-option *ngFor="let genre of genres" [value]="genre">
                            {{genre.title}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="panel-item sorts-box">
                <mat-button-toggle-group class="lists" [(value)]="selectedSort" (change)="onSortChange($event)">
                    <mat-button-toggle *ngFor="let sort of sorts" [value]="sort">{{sort.title}}</mat-button-toggle>
                </mat-button-toggle-group>
            </div>
        </div>
    </ng-template>

    <ng-template [ngIf]="isMobile">
        <button 
            mat-flat-button 
            (click)="openMobileFilters()"
            class="app-btn filters-btn"
            >Фильтры</button>
    </ng-template>

    <ng-template #mobile_filters>
        <div class="slidenav-menu">
            <div class="slidenav-lists-box">
                <ng-template [ngTemplateOutlet]="lists_component"></ng-template>
            </div>
            <h3>Сортировать</h3>
            <app-mobile-slider [items]="sorts" [(selected)]="selectedSort"></app-mobile-slider>
            <h3>Жанры</h3>
            <mat-selection-list [multiple]="false" (selectionChange)="selectedGenre = $event.option.value">
                <mat-list-option *ngFor="let genre of genres" [value]="genre" [selected]="genre == selectedGenre">
                    {{genre.title}}
                </mat-list-option>
            </mat-selection-list>
        </div>
    </ng-template>

    
</section>
<section>
    <div class="container">
        <app-movies-section [style.width.%]="100"></app-movies-section>
    </div>
</section>
